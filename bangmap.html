<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/icon.png" type="image/x-icon">
    <link rel="shortcut icon" href="/icon.png" type="image/x-icon">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾">
    <meta name="apple-mobile-web-app-title" content="å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾">
    <meta name="msapplication-starturl" content="/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fcb3c8">
    <script defer src="https://cloud.umami.is/script.js"
        data-website-id="ad547ccf-627a-4293-a348-8ef6c860aa63"></script>
    <title>å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <!-- åŠ è½½ Turnstile JS -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script defer src="/js/mouse-icon-effect.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-image: url('https://bang-dream.com/img/top/kv-slide-loading-bg.png');
            background-repeat: repeat;
            background-attachment: fixed;
            /* å¯é€‰ï¼šè®©èƒŒæ™¯éšé¡µé¢æ»šåŠ¨ */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;

        }

        .header {
            text-align: center;
            margin-bottom: 20px;

        }

        #map {
            width: 100%;
            height: 40vh;
            max-height: 700px;
            min-height: 400px;
            background-color: rgba(255, 255, 255, 0);
            border-radius: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }

        .info-panel {
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            background-color: rgba(255, 255, 255, 0);
        }

        .mouse-icon {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            /* transform-origin: center; */
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾</h1>
        </div>

        <div id="map"></div>

        <div class="info-panel" id="infoPanel">
            <p>ç‚¹å‡»åœ°å›¾ä¸Šçš„çœä»½æ¿å—æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
        </div>

        <div class="info-panel" id="infoPanel">
            <p>ğŸ”— <a
                    href="https://enldm.cyou/2025/10/%E5%85%A8%E5%9B%BD%E9%82%A6%E9%82%A6%E5%9C%B0%E5%9B%BE%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/">å¼€å‘&æ›´æ–°æ—¥å¿—</a>
            </p>
            <p>ğŸ”§ å·¥å…·å¤§å…¨ï¼š<a href="https://bestdori.com/">Bestdori</a> <a href="https://bang-dream.com/">BanG-Dreamå®˜ç½‘</a>
                <a href="https://game.bilibili.com/bangdream/exchange/">æ‰‹æ¸¸å…‘æ¢ç </a>
                <a href="https://enldm.cyou/pjskmap">å…¨å›½Project SekaiåŒå¥½ä¼šåœ°å›¾</a>
            </p>
            <p>ğŸ“¢ æµ·å¤–ä»¥åŠå„åœ°é«˜æ ¡ç¾¤å·ä¹Ÿæ¥å—æŠ•ç¨¿ä¸­ï¼</p>
            <p>ğŸ’Š è¯·ä¸è¦ä¸¾åŠç½‘ç«™ï¼æ²¡å¤‡æ¡ˆæ³è¯·æ”¾è¿‡ï¼</p>
            <p>âœ‰ï¸ æŠ•ç¨¿å‹˜è¯¯ï¼šåŠ å…¥Qç¾¤ 636949985 æˆ–å‘é€é‚®ä»¶è‡³ <a href="mailto:admin@enldm.cyou">admin@enldm.cyou</a></p>
            <p style="text-align: center;">â¤ ç‰¹åˆ«é¸£è°¢ï¼š<a href="https://seieya.ip-ddns.com/">@zkylin</a> <a
                    href="https://enldm.cyou">@enldm</a></p>
        </div>

        <div id="contact-form"
            style="max-width: 500px; margin: 40px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px;">
            <h3>åœ¨çº¿æŠ•ç¨¿</h3>
            <textarea id="msg" placeholder="è¯·è¾“å…¥æŠ•ç¨¿å†…å®¹ï¼Œè¯·åŒ…å«å…·ä½“åœ°åŒºä¿¡æ¯/é«˜æ ¡å…¨ç§°+ç¾¤å+æ­£ç¡®çš„ç¾¤å·ï¼Œæ­£å¸¸æƒ…å†µä¸€åˆ°ä¸¤å¤©å†…æ›´æ–°ï¼Œè¯·ç¡®ä¿ç¾¤å·æ­£ç¡®å¹¶ä¸”å¯ä»¥è¢«æœç´ ã€‚è®¡åˆ’å¼€å‘æŠ•ç¨¿æŸ¥è¯¢ä¸Šçº¿æŸ¥è¯¢ä¸­..."
                rows="4" style="
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-sizing: border-box;
        font-size: 15px;
        color: #333;
        resize: vertical;
        transition: border 0.3s ease;
    "></textarea>
            <!-- Turnstile Widget -->
            <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
                <div class="cf-turnstile" data-sitekey="0x4AAAAAAB7bLKDGHTTCmU9N" data-theme="light" data-size="normal">
                </div>
                <button onclick="submitMessage()"
                    style="padding: 10px 20px; background: #0088cc; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    å‘é€æŠ•ç¨¿
                </button>
            </div>


            <script>
                // åˆå§‹åŒ–ECharts
                const myChart = echarts.init(document.getElementById('map'));

                // è‡ªå®šä¹‰çœä»½åŸå¸‚æ•°æ®
                const provinceCities = {
                    "è¾½å®çœ": [
                        "â˜…\t201554121",
                        "ä¸œåŒ—åœ°åŒº+è’™ä¸œ\t1037055967",
                        "æ²ˆé˜³å¸‚\t829012626",
                        "å¤§è¿å¸‚\t732833053"
                    ],
                    "å‰æ—çœ": [
                        "â˜…\t170930018",
                        "ä¸œåŒ—åœ°åŒº+è’™ä¸œ\t1037055967",
                        "å»¶è¾¹æœé²œæ—è‡ªæ²»å·\t615237635",
                        "è¾½æºå¸‚\t1041928458",
                        "å‰æ—å¤§å­¦-JLU BangDreamåŒå¥½ä¼š\t657501530",

                    ],
                    "é»‘é¾™æ±Ÿçœ": [
                        "â˜…\t692973980",
                        "ä¸œåŒ—åœ°åŒº+è’™ä¸œ\t1037055967",
                        "é»‘é¾™æ±Ÿå…«ä¸€å†œå¦å¤§å­¦-å…«ä¸€å†œå¤§é‚¦é‚¦åŒå¥½ä¼š\t964919601",
                        "ä¸œåŒ—çŸ³æ²¹å¤§å­¦-ä¸œæ²¹æ‹‰é‚¦åŒå¥½ä¼š\t796351918",
                    ],
                    "å¹¿ä¸œçœ": [
                        "å¹¿å·å¸‚â‘ ç¾¤\t513069286",
                        "å¹¿å·å¸‚â‘¡ç¾¤\t538334462",
                        "å¹¿å·å¸‚å¢åŸåŒº\t913229647",
                        "å¹¿å·å¸‚è¶Šç§€åŒº\t1042451105",
                        "å¹¿å·é‚¦o\t390485074",
                        "æ·±åœ³å¸‚\t934594049",
                        "ä¸œèå¸‚\t928106957",
                        "é˜³æ±Ÿå¸‚\t685024751",
                        "æ¹›æ±Ÿå¸‚\t1091154609",
                        "æ½®æ±•åœ°åŒº\t813803622",
                        "ç æµ·å¸‚\t940731770",
                        "æƒ å·å¸‚\t559784382",
                        "æ±Ÿé—¨å¸‚\t106377847",
                        "æ±Ÿé—¨å¸‚å°å±±å¸‚\t1048336431",
                        "ä½›å±±å¸‚\t1026918347",
                        "ä½›å±±å¸‚é¡ºå¾·åŒº\t808453663",
                        "ä½›å±±å¸‚å—æµ·åŒº\t787157262",
                        "ä¸­å±±å¸‚\t994772024",
                        "ç•ªç¦ºåŒºå—æ²™åŒº\t253622060",
                        "èŒ‚åå¸‚\t604529419",
                        "éŸ¶å…³å¸‚\t850285086",
                        "è‚‡åº†å¸‚\t682071770",
                        "æ²³æºå¸‚\t1047863785",
                        "æ¸…è¿œå¸‚\t975315738",
                        "å¹¿ä¸œå·¥ä¸šå¤§å­¦-å¶åƒç ”ç©¶éƒ¨\t545371571",
                        "å²­å—å¸ˆèŒƒå­¦é™¢-Shadowé‚¦å¤šåˆ©åŒå¥½ä¼š\t940846147",
                    ],
                    "å¹¿è¥¿å£®æ—è‡ªæ²»åŒº": [
                        "â˜…\t197263715",
                        "å—å®å¸‚\t912886747",
                        "å—å®é‚¦o\t1049723846",
                        "æ²³æ± å¸‚\t1005617542",
                        "æŸ³å·å¸‚\t958066206",
                        "æ¡‚æ—å¸‚\t486534235",
                        "æ¢§å·å¸‚\t813383545",
                        "è´µæ¸¯å¸‚\t856329935",
                        "ç™¾è‰²å¸‚\t1039141082",
                        "åŒ—éƒ¨æ¹¾åœ°åŒº\t995632325",
                        "å´‡å·¦å¸‚\t1022085123",
                        "ç‰æ—å¸‚\t1028745113"
                    ],
                    "æµ·å—çœ": [
                        "â˜…\t120854332"
                    ],
                    "æ²³å—çœ": [
                        "â˜…\t722752126",
                        "å•†ä¸˜å¸‚\t941761959",
                        "è±«åŒ—åœ°åŒº\t1051985310",
                        "ç™»å°å¸‚\t1039892514",
                        "å®‰é˜³å¸‚\t1067059183",
                        "å¼€å°å¸‚\t1071708114",
                        "ç„¦ä½œå¸‚\t1067081912",
                        "å¼€å°å¸‚\t1071708114",
                        "å—é˜³å¸‚\t217343838",
                        "éƒ‘å·BangDream!Only2nd\t1047372012",
                    ],
                    "æ¹–åŒ—çœ": [
                        "æ¸¸æˆç¾¤\t953865108",
                        "æ­¦æ±‰å¸‚\t933842046",
                        "é»„å†ˆå¸‚\t942932442",
                        "å®œæ˜Œå¸‚\t833672595",
                        "è†å·å¸‚\t661586435",
                        "è†é—¨å¸‚\t761713177",
                        "è¥„é˜³å¸‚\t534801131",
                        "éšå·å¸‚\t992982589",
                        "å­æ„Ÿå¸‚\t1039169038",
                        "é»„çŸ³å¸‚\t975881505"
                    ],
                    "æ¹–å—çœ": [
                        "é•¿æ²™å¸‚\t689865195",
                        "æ¹˜æ½­å¸‚\t702817846",
                        "è¡¡é˜³å¸‚\t967279281",
                        "å²³é˜³å¸‚\t545071198",
                        "æ¹–å·å¸ˆèŒƒå­¦é™¢-é‚¦å¤šåˆ©BangDream!åŒå¥½ä¼š\t655899602",
                    ],
                    "é’æµ·çœ": [
                        "â˜…\t692015303"
                    ],
                    "æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº": [
                        "â˜…\t950051488"
                    ],
                    "é™•è¥¿çœ": [
                        "â˜…\t626356375",
                        "è¥¿å®‰å¸‚\t689914087"
                    ],
                    "é‡åº†å¸‚": [
                        "è¥¿å—è”åˆç¾¤\t692833338",
                        "â‘ ç¾¤\t926266398",
                        "â‘¡ç¾¤\t878533643",
                        "é‡åº†å¤§å­¦-EFé‚¦å¤šåˆ©é©¬åŒå¥½ä¼š\t824993838",
                        "é‡åº†ç§‘æŠ€å¤§å­¦\t?",
                    ],
                    "å››å·çœ": [
                        "â˜…â‘ \t828395737",
                        "â˜…â‘¡\t921701711",
                        "æˆéƒ½å¸‚\t837492457",
                        "ç»µé˜³å¸‚\t1004025987",
                        "è¾¾å·å¸‚\t1009535558",
                        "å¾·é˜³å¸‚\t1005857913",
                        "å®œå®¾å¸‚\t761307546",
                        "å››å·é«˜æ ¡é‚¦é‚¦è”åˆä¼š\t318652734",
                        "å››å·å¤§å­¦-å¯ºå·å¤§å­¦æ¡ƒå›­ç»“ä¹‰\t598806063",
                        "ç”µå­ç§‘æŠ€å¤§å­¦-é‚¦é‚¦åŒå¥½ä¼š\t745318614",
                        "è¥¿å—äº¤é€šå¤§å­¦-2.5æ¬¡å…ƒä¼åˆ’åŒå¥½ä¼š\t1058757033",
                        "å››å·å†œä¸šå¤§å­¦-å·å†œBang DreamåŒå¥½ä¼š\t657110020",
                        "å·åŒ—åŒ»å­¦é™¢-å—å……å£°è±šé›†ä¸­åœ°\t836493581",
                        "è¥¿å—è´¢ç»å¤§å­¦-è´¢å…µDreamers Go\t626699647",
                        "æˆéƒ½ç†å·¥å¤§å­¦-å®æ‰¹é¾™é‚¦\t709393017",
                        "è¥¿å—çŸ³æ²¹å¤§å­¦-â­è¥¿æŸšé‚¦å¤šåˆ©åŒå¥½ä¼šâ­\t1032539210",
                        "å››å·å¸ˆèŒƒå¤§å­¦-å°‘å¥³å¶åƒä¼åˆ’åŒå¥½ä¼š\t872387921",
                        "å››å·æ–‡ç†å­¦é™¢-å°‘å¥³ä¹é˜ŸåŒå¥½ä¼š\t961289644",
                        "æˆéƒ½é”¦åŸå­¦é™¢-é”¦åŸç‚¸æ¢¦åŒå¥½ä¼š\t1042205266",
                        "ä¸­å›½æ°‘ç”¨èˆªç©ºé£è¡Œå­¦é™¢-å¶ç ”éƒ¨\t700829157",
                        "æˆéƒ½ä½“è‚²å­¦é™¢-å¶ç ”éƒ¨\t1002761880",
                    ],
                    "è´µå·çœ": [
                        "â˜…\t653588294"
                    ],
                    "äº‘å—çœ": [
                        "â˜…\t743920899"
                    ],
                    "å±±è¥¿çœ": [
                        "â˜…\t832320495",
                        "å¤ªåŸå¸‚\t778793458",
                        "é˜³æ³‰å¸‚\t934750347",
                        "å¤ªåŸå¸‚å¤–å›½è¯­å­¦æ ¡-Bang Drean!åŒå¥½ä¼š\t956484891",
                    ],
                    "åŒ—äº¬å¸‚": [
                        "åŒ—äº¬å¸‚â‘ ç¾¤\t754988287",
                        "åŒ—äº¬å¸‚â‘¡ç¾¤\t683102008",
                        "åŒ—äº¬é‚¦o\t628042511",
                        "åŒ—äº¬é«˜æ ¡é‚¦é‚¦å°çª\t1026947464",
                        "åŒ—äº¬ç†å·¥å¤§å­¦-é»‘ç™½é‚¦é‚¦äººlivehouse\t735191944",
                        "äººæ°‘å¤§å­¦-rucé‚¦é‚¦åŒå¥½ä¼š\t1004946332",

                    ],
                    "æ²³åŒ—çœ": [
                        "æ²³åŒ—BanG DreamåŒå¥½ä¼š\t948567518",
                        "æ²³åŒ—é‚¦å­âœ©é‚¦å¤šåˆ©åŒå¥½ä¼š\t754791807",
                        "å”å±±å¸‚\t321257907",
                        "é‚¯éƒ¸å¸‚\t891477952",
                        "æ²§å·å¸‚\t1056461370",
                    ],
                    "å¤©æ´¥å¸‚": [
                        "â˜…\t772313831"
                    ],
                    "å±±ä¸œçœ": [
                        "â˜…\t342718094",
                        "æµå—å¸‚\t971596577",
                        "ä¸´æ²‚å¸‚\t938607948",
                        "æµå®å¸‚\t535389152",
                        "æ·„åšå¸‚\t972571866",
                        "å¨æµ·å¸‚\t362499023",
                        "æ½åŠå¸‚\t696482463",
                        "æ£åº„å¸‚\t696226842",
                        "æ—¥ç…§å¸‚\t973371557",
                        "é’å·å¸‚\tç¾¤å·ä¸å¯ç”¨",
                        "æ»¨å·å¸‚\t978465767",
                        "é’å²›å¸‚\t531723696",
                        "æ³°å®‰å¸‚\t514671214",
                        "èæ³½å¸‚\t1036290591",
                        "æ£åº„å­¦é™¢-æ£åº„å­¦é™¢Bang Dream!åŒå¥½ä¼š\t1033671412",
                        "ä¸­å›½æµ·æ´‹å¤§å­¦-ä¸­æµ·å¤§é‚¦é‚¦åŒå¥½ä¼š\t947704892",
                        "å±±ä¸œå¤§å­¦-ä¸–ä¼Šbangdream\t797086084",
                    ],
                    "æµ™æ±Ÿçœ": [
                        "â˜…\t139823813",
                        "æ¸©å·å¸‚\t892472764",
                        "å®æ³¢å¸‚\t924801818",
                        "å°å·å¸‚\t398051024",
                        "ç»å…´å¸‚\t693974218",
                        "å˜‰å…´å¸‚\t1029869170",
                        "æ¹–å·å¸‚\t1040258704",
                        "èˆŸå±±å¸‚\t1063781170",
                        "å®æ³¢å¤§å­¦-Bangd Dream!åŒå¥½ä¼š\t736102868",
                        "æµ™æ±Ÿå¤§å­¦-Bangd Dream!@ZJU\t346500393",
                    ],
                    "å®‰å¾½çœ": [
                        "åˆè‚¥å¸‚\t747589088",
                        "èŠœæ¹–å¸‚\t530588300",
                        "èšŒåŸ å¸‚\t948203295",
                        "é“œé™µå¸‚\t102759097",
                        "å®¿å·å¸‚\t891293813",
                        "é©¬éå±±å¸‚\t661261951",
                        "èšŒåŸ å¸‚\t948203295",
                        "å®£åŸå¸‚\t172144394"
                    ],
                    "æ±Ÿè‹çœ": [
                        "â˜…\t819458412",
                        "å—äº¬å¸‚â‘ ç¾¤\t747518591",
                        "å—äº¬å¸‚â‘¡ç¾¤\t169906983",
                        "æ— é”¡å¸‚\t974271472",
                        "æ‰¬å·å¸‚\t773559461",
                        "è‹å·å¸‚\t793780752",
                        "å¸¸å·å¸‚\t583645455",
                        "å¾å·å¸‚\t905227285",
                        "å—é€šå¸‚\t836206041",
                        "å—äº¬å¸‚\t747518591",
                        "ç›åŸå¸‚\t145580593",
                        "å®¿è¿å¸‚\t1011110279",
                        "æ³°å·å¸‚\t247066554",
                        "æ³°å·å¸‚å…´åŒ–å¸‚\t580171783",
                        "é•‡æ±Ÿå¸‚\t1036159277",
                        "é•‡æ±Ÿå¸‚æ‰¬ä¸­å¸‚\t1046222995",
                        "æ·®å®‰å¸‚\t1027430916",
                        "è¿äº‘æ¸¯å¸‚\t578503034"
                    ],
                    "ä¸Šæµ·å¸‚": [
                        "ä¸Šæµ·å¸‚â‘ ç¾¤\t522612554",
                        "ä¸Šæµ·å¸‚â‘¡ç¾¤\t706299490",
                        "bfp\t813380802",
                        "ä¸Šæµ·å¤§å­¦-SHUé‚¦å¤šåˆ©åŒå¥½ä¼š\t714500883"
                    ],
                    "æ±Ÿè¥¿çœ": [
                        "å—æ˜Œå¸‚\t894756390",
                        "å‰å®‰å¸‚\t978700466",
                        "èµ£å·å¸‚\t971114413",
                        "å®œæ˜¥å¸‚\t1045951834",
                        "ä¸Šé¥¶å¸‚\t876909073",
                        "èä¹¡å¸‚\t949967318",
                        "ä¹æ±Ÿå¸‚å…±é’åŸå¸‚\t2166033080",
                        "èä¹¡å¸‚\t949967318",
                    ],
                    "ç¦å»ºçœ": [
                        "ç¦å·å¸‚\t860717840",
                        "æ³‰å·å¸‚\t784207818",
                        "æ³‰å·å¸‚å®‰æºªå¿\t303701504",
                        "æ³‰å·å¸‚å¾·åŒ–å¿\t612088295",
                        "å®å¾·å¸‚\t1006373621",
                        "å¦é—¨å¸‚\t761123677",
                        "æ¼³å·å¸‚\t163346070",
                        "å¦é—¨ä¸€ä¸­\t1048902385",
                    ],
                    "å®å¤å›æ—è‡ªæ²»åŒº": [
                        "â˜…\t934398762"
                    ],
                    "ç”˜è‚ƒçœ": [
                        "å…°å·å¸‚\t769808791"
                    ],
                    "å†…è’™å¤è‡ªæ²»åŒº": [
                        "â˜…\t538294932",
                        "ä¸œåŒ—åœ°åŒº+è’™ä¸œ\t1037055967",
                    ],
                    "é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº": [
                        "â˜…\t937534090",
                        "â˜…\t827288405"
                    ],
                    "æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº": [
                        "â˜…\t1025719485",
                        "â˜…\t901599610",
                    ],
                    "å°æ¹¾çœ": [
                        "å·´å“ˆç¾¤\tåº”ç®¡ç†å‘˜è¦æ±‚æš‚ä¸æ”¶å½•",
                        "å¤©ä¸‹ç¬¬ä¸€é‚¦\tdiscordç¾¤ç»„ï¼šdiscord.gg/bestbandreamers"
                    ],
                    "æµ·å¤–": [
                        "åŒ—ç¾æ´²\tåŒ—ç¾ç‚¸æ¢¦åŒå¥½ä¼š\t 958751334",
                        "åŒ—ç¾æ´²\tBangdreamåŒ—ç¾ä¸­æ–‡æŠ±å›¢ç¤¾å›¢\t discord.gg/bandori01",
                        "äºšæ´²\tæ—¥æœ¬BanG Dreamé¢‘é“ç¾¤\t 753572532",
                        "æ¾³æ´²\tæ¾³å¤§åˆ©äºšå¾®ä¿¡ç¾¤\t ç¾¤ä¸»å¾®ä¿¡: lhr0615",

                    ]
                };

                // åŠ è½½ä¸­å›½åœ°å›¾æ•°æ®
                fetch('mapdata.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(data => {
                        // æ³¨å†Œä¸­å›½åœ°å›¾
                        echarts.registerMap('china', data);

                        // é…ç½®åœ°å›¾é€‰é¡¹
                        const option = {
                            title: {
                                text: 'ç‚¹å‡»çœä»½ä¸‹æ»‘æŸ¥çœ‹ç¾¤å·',
                                subtext: 'æ¬¢è¿æ”¶è—è½¬å‘åˆ†äº«æœ¬ç½‘ç«™',
                                left: 'center',
                                textStyle: {
                                    fontSize: 20,
                                    fontWeight: 'bold'
                                },
                                subtextStyle: {
                                    fontSize: 14,
                                    color: '#666'
                                }
                            },
                            tooltip: {
                                trigger: 'item',
                                formatter: function (params) {
                                    return params.name;
                                },
                                backgroundColor: 'rgba(255,255,255,0.9)',
                                borderColor: '#91d5ff',
                                borderWidth: 1,
                                textStyle: {
                                    color: '#333'
                                }
                            },
                            visualMap: {
                                show: false
                            },
                            series: [
                                {
                                    name: 'çœä»½',
                                    type: 'map',
                                    map: 'china',
                                    roam: true,  // å…è®¸ç¼©æ”¾å’Œå¹³ç§»
                                    zoom: 1.6,
                                    center: [105, 36],
                                    label: {
                                        show: true,
                                        fontSize: 15,
                                        color: '#333',
                                        fontWeight: 1300,
                                        formatter: function (params) {
                                            let name = params.name;
                                            // å»é™¤ç‰¹å®šåç¼€
                                            name = name
                                                .replace(/ç‰¹åˆ«è¡Œæ”¿åŒº$/, '')
                                                .replace(/å£®æ—è‡ªæ²»åŒº$/, 'çœ')
                                                .replace(/ç»´å¾å°”è‡ªæ²»åŒº$/, 'çœ')
                                                .replace(/å›æ—è‡ªæ²»åŒº$/, 'çœ')
                                                .replace(/è‡ªæ²»åŒº$/, '')
                                            return name;
                                        }
                                    },
                                    itemStyle: {
                                        areaColor: '#fcb3c8',
                                        borderColor: '#e00052',
                                        borderWidth: 1.0
                                    },
                                    emphasis: {
                                        itemStyle: {
                                            areaColor: '#e00052',
                                            shadowBlur: 20,
                                            shadowColor: 'rgba(0, 0, 0, 0.3)'
                                        },
                                        label: {
                                            show: true,
                                            color: '#fff',
                                            fontSize: 12,
                                            fontWeight: 35
                                        }
                                    }
                                }
                            ],
                            graphic: [
                                {
                                    type: 'group',
                                    left: '20px',
                                    top: '40px',
                                    name: 'btn-overseas',

                                    children: [
                                        {
                                            type: 'rect',
                                            shape: {
                                                width: 40,
                                                height: 30,
                                                r: 5,
                                            },
                                            style: {
                                                fill: '#5470c6',
                                            },
                                            key: 'overseas-btn',
                                            // é¼ æ ‡æ ·å¼
                                            cursor: 'pointer',

                                        },
                                        {
                                            type: 'text',
                                            style: {
                                                text: 'æµ·å¤–',
                                                fontSize: 12,
                                                fontWeight: 'bold',
                                                fill: '#fff',
                                                align: 'center',
                                                verticalAlign: 'middle',
                                                x: 20,
                                                y: 15,
                                                textAlign: 'center',
                                                verticalAlign: 'middle'
                                            },

                                        }
                                    ]
                                }
                            ]

                        };

                        // è®¾ç½®é…ç½®é¡¹
                        myChart.setOption(option);

                        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                        // å°è£…ï¼šç»Ÿä¸€çš„ä¿¡æ¯é¢æ¿æ›´æ–°å‡½æ•°
                        function updateInfoPanel(title, citiesList) {
                            const infoPanel = document.getElementById('infoPanel');
                            if (!infoPanel) return;

                            const content = Array.isArray(citiesList) && citiesList.length > 0
                                ? citiesList.map(city => `
            <p style="
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 20px;
                margin: 4px 0;
                background: #f0f7ff;
                color: #333;
                white-space: normal;
            ">${city}</p>
          `).join('')
                                : '<p style="color: #999; font-size: 18px;">æš‚æ— æ•°æ®</p>';

                            infoPanel.innerHTML = `
        <h1>${title}</h1>
        <h2><strong>ä¸‹å±åˆ—è¡¨ï¼š</strong></h2>
        <p style="margin-top: 10px;">
            ${content}
        </p>
    `;
                        }

                        // ECharts ç‚¹å‡»äº‹ä»¶ï¼ˆä¼˜åŒ–åï¼‰
                        myChart.on('click', function (params) {
                            // æƒ…å†µ1ï¼šç‚¹å‡»çš„æ˜¯â€œæµ·å¤–â€æŒ‰é’®
                            if (params.componentType === 'graphic') {
                                const overseasData = provinceCities['æµ·å¤–'] || ['æš‚æ— æµ·å¤–æ•°æ®'];
                                updateInfoPanel('ğŸŒ æµ·å¤–', overseasData);
                                return;
                            }

                            // æƒ…å†µ2ï¼šç‚¹å‡»çš„æ˜¯åœ°å›¾ä¸Šçš„çœä»½
                            const provinceName = params.name;
                            const cities = provinceCities[provinceName] || ['æš‚æ— è¯¥çœæ•°æ®'];

                            // ä½¿ç”¨ç»Ÿä¸€å‡½æ•°æ›´æ–°é¢æ¿
                            updateInfoPanel(`ğŸ“ ${provinceName}`, cities);
                        });

                        // æ·»åŠ åŠ è½½å®Œæˆæç¤º
                        console.log('åœ°å›¾æ•°æ®åŠ è½½æˆåŠŸï¼æŒ‰F12æ˜¯æƒ³çœ‹ä»€ä¹ˆï¼Ÿ');

                    })
                    .catch(error => {
                        console.error('âš åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥:', error);
                        document.getElementById('infoPanel').innerHTML =
                            `<p style="color: red;">âš åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥ï¼š${error.message}</p>
                     <p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚</p>`;
                    });

                // å¤„ç†çª—å£å¤§å°å˜åŒ–
                window.addEventListener('resize', function () {
                    myChart.resize();
                });

                // åœ¨çº¿æŠ•ç¨¿
                async function submitMessage() {
                    const message = document.getElementById('msg').value.trim();
                    const turnstileToken = window.turnstile?.getResponse();

                    if (!message || message.length > 1000) {
                        alert('è¯·è¾“å…¥ 1-1000 å­—ç¬¦çš„æ¶ˆæ¯');
                        return;
                    }

                    if (!turnstileToken) {
                        alert('è¯·å®ŒæˆäººæœºéªŒè¯');
                        return;
                    }

                    const url = 'https://tgapi.enldm.cyou/'; // ä½ çš„ Worker åœ°å€

                    try {
                        const res = await fetch(url, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                message,
                                'cf-turnstile-response': turnstileToken
                            })
                        });

                        const data = await res.json();

                        if (data.success) {
                            alert('âœ… æ¶ˆæ¯å·²å‘é€ï¼');
                            document.getElementById('msg').value = '';
                            window.turnstile.reset(); // é‡ç½®éªŒè¯ç 
                        } else {
                            alert('âŒ å‘é€å¤±è´¥ï¼š' + (data.error || 'æœªçŸ¥é”™è¯¯'));
                        }
                    } catch (err) {
                        alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
                        console.error(err);
                    }
                }
            </script>
</body>

</html>