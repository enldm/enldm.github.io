<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <link rel="manifest" href="/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾">
    <meta name="apple-mobile-web-app-title" content="å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾">
    <meta name="msapplication-starturl" content="/">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#fcb3c8">
    <title>å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-image: url('https://bang-dream.com/img/top/kv-slide-loading-bg.png');
            background-repeat: repeat;
            background-attachment: fixed;
            /* å¯é€‰ï¼šè®©èƒŒæ™¯éšé¡µé¢æ»šåŠ¨ */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        #map {
            width: 100%;
            height: 700px;
            background-color: rgba(255, 255, 255, 0.3);
            /* ç™½è‰²èƒŒæ™¯ï¼Œ70% ä¸é€æ˜ */
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(4px);
            /* å¯é€‰ï¼šæ¯›ç»ç’ƒæ•ˆæœï¼Œæ›´ç¾è§‚ */
        }

        .info-panel {
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>å…¨å›½BanG Dream!åŒå¥½ä¼šåœ°å›¾</h1>
        </div>

        <div id="map"></div>

        <div class="info-panel" id="infoPanel">
            <p>ç‚¹å‡»åœ°å›¾ä¸Šçš„çœä»½æ¿å—æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
        </div>

        <div class="info-panel" id="infoPanel">
            <p>ğŸ”§ å·¥å…·å¤§å…¨ï¼š<a href="https://bestdori.com/">Bestdori</a> <a href="https://bang-dream.com/">BanG-Dreamå®˜ç½‘</a>
                <a href="https://game.bilibili.com/bangdream/exchange/">æ‰‹æ¸¸å…‘æ¢ç </a>
            </p>
            <p>ğŸ“¢ æµ·å¤–ä»¥åŠå„åœ°é«˜æ ¡ç¾¤å·ä¹Ÿæ¥å—æŠ•ç¨¿ä¸­ï¼</p>
            <p>ğŸ’Š è¯·ä¸è¦ä¸¾åŠç½‘ç«™ï¼æ²¡å¤‡æ¡ˆæ³è¯·æ”¾è¿‡ï¼</p>
            <p>âœ‰ï¸ æŠ•ç¨¿æ–¹å¼ï¼šå‘é€é‚®ä»¶/QQç¾¤/BOTæŠ•ç¨¿/åœ¨çº¿è¡¨æ ¼å¼€å‘ä¸­</p>
            <p>âœ‰ï¸ æŠ•ç¨¿å‹˜è¯¯ï¼šåŠ å…¥Qç¾¤ 636949985 æˆ–å‘é€é‚®ä»¶è‡³ <a href="mailto:admin@enldm.cyou">admin@enldm.cyou</a></p>
            <p style="text-align: center;">â¤ ç‰¹åˆ«é¸£è°¢ï¼š<a href="https://seieya.ip-ddns.com/">@zkylin</a> <a
                    href="https://enldm.cyou">@enldm</a></p>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–ECharts
        const myChart = echarts.init(document.getElementById('map'));

        // è‡ªå®šä¹‰çœä»½åŸå¸‚æ•°æ®ï¼ˆä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ï¼‰
        const provinceCities = {
            "è¾½å®çœ": [
                "â˜…\t201554121",
                "æ²ˆé˜³å¸‚\t829012626",
                "å¤§è¿å¸‚\t732833053"
            ],
            "å‰æ—çœ": [
                "â˜…\t170930018",
                "å»¶è¾¹æœé²œæ—è‡ªæ²»å·\t615237635"
            ],
            "é»‘é¾™æ±Ÿçœ": [
                "â˜…\t692973980"
            ],
            "å¹¿ä¸œçœ": [
                "å¹¿å·å¸‚â‘ ç¾¤\t513069286",
                "å¹¿å·å¸‚â‘¡ç¾¤\t538334462",
                "å¹¿å·å¸‚å¢åŸåŒº\t913229647",
                "å¹¿å·å¸‚è¶Šç§€åŒº\t1042451105",
                "å¹¿å·é‚¦o\t390485074",
                "æ·±åœ³å¸‚\t934594049",
                "ä¸œèå¸‚\t928106957",
                "é˜³æ±Ÿå¸‚\t685024751",
                "æ¹›æ±Ÿå¸‚\t1091154609",
                "æ½®æ±•åœ°åŒº\t813803622",
                "ç æµ·å¸‚\t940731770",
                "æƒ å·å¸‚\t559784382",
                "æ±Ÿé—¨å¸‚\t106377847",
                "æ±Ÿé—¨å¸‚å°å±±å¸‚\t1048336431",
                "ä½›å±±å¸‚\t1026918347",
                "ä½›å±±å¸‚é¡ºå¾·åŒº\t808453663",
                "ä½›å±±å¸‚å—æµ·åŒº\t787157262",
                "ä¸­å±±å¸‚\t994772024",
                "ç•ªç¦ºå¸‚å—æ²™åŒº\t253622060",
                "èŒ‚åå¸‚\t604529419",
                "éŸ¶å…³å¸‚\t850285086",
                "è‚‡åº†å¸‚\t682071770",
                "æ²³æºå¸‚\t1047863785"
            ],
            "å¹¿è¥¿å£®æ—è‡ªæ²»åŒº": [
                "â˜…\t197263715",
                "å—å®å¸‚\t912886747",
                "å—å®é‚¦o\t1049723846",
                "æ²³æ± å¸‚\t1005617542",
                "æŸ³å·å¸‚\t958066206",
                "æ¡‚æ—å¸‚\t486534235",
                "æ¢§å·å¸‚\t813383545",
                "è´µæ¸¯å¸‚\t856329935",
                "ç™¾è‰²å¸‚\t1039141082",
                "åŒ—éƒ¨æ¹¾åœ°åŒº\t995632325",
                "å´‡å·¦å¸‚\t1028745113",
                "ç‰æ—å¸‚\t1028745113"
            ],
            "æµ·å—çœ": [
                "â˜…\t120854332"
            ],
            "æ²³å—çœ": [
                "â˜…\t722752126"
            ],
            "æ¹–åŒ—çœ": [
                "æ¸¸æˆç¾¤\t953865108",
                "æ­¦æ±‰å¸‚\t933842046",
                "é»„å†ˆå¸‚\t942932442",
                "å®œæ˜Œå¸‚\t833672595",
                "è†å·å¸‚\t661586435",
                "è†é—¨å¸‚\t761713177",
                "è¥„é˜³å¸‚\t534801131",
                "éšå·å¸‚\t992982589",
                "å­æ„Ÿå¸‚\t1039169038",
                "é»„çŸ³å¸‚\t975881505"
            ],
            "æ¹–å—çœ": [
                "é•¿æ²™å¸‚\t689865195",
                "æ¹˜æ½­å¸‚\t702817846",
                "è¡¡é˜³å¸‚\t967279281",
                "å²³é˜³å¸‚\t545071198"
            ],
            "é’æµ·çœ": [
                "â˜…\t692015303"
            ],
            "æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº": [
                "â˜…\t950051488"
            ],
            "é™•è¥¿çœ": [
                "â˜…\t626356375",
                "è¥¿å®‰å¸‚\t689914087"
            ],
            "é‡åº†å¸‚": [
                "è¥¿å—è”åˆç¾¤\t692833338",
                "â‘ ç¾¤\t926266398",
                "â‘¡ç¾¤\t878533643"
            ],
            "å››å·çœ": [
                "â˜…â‘ \t828395737",
                "â˜…â‘¡\t921701711",
                "æˆéƒ½å¸‚\t837492457",
                "ç»µé˜³å¸‚\t1004025987",
                "è¾¾å·å¸‚\t1009535558",
                "å¾·é˜³å¸‚\t1005857913"
            ],
            "è´µå·çœ": [
                "â˜…\t653588294"
            ],
            "äº‘å—çœ": [
                "â˜…\t743920899"
            ],
            "å±±è¥¿çœ": [
                "â˜…\t832320495",
                "å¤ªåŸå¸‚\t778793458",
                "é˜³æ³‰å¸‚\t934750347"
            ],
            "åŒ—äº¬å¸‚": [
                "åŒ—äº¬å¸‚â‘ ç¾¤\t754988287",
                "åŒ—äº¬å¸‚â‘¡ç¾¤\t683102008",
                "åŒ—äº¬é‚¦o\t628042511"
            ],
            "æ²³åŒ—çœ": [
                "æ²³åŒ—BanG DreamåŒå¥½ä¼š\t948567518",
                "æ²³åŒ—é‚¦å­âœ©é‚¦å¤šåˆ©åŒå¥½ä¼š\t754791807",
                "å”å±±å¸‚\t321257907",
                "é‚¯éƒ¸å¸‚\t891477952"
            ],
            "å¤©æ´¥å¸‚": [
                "â˜…\t772313831"
            ],
            "å±±ä¸œçœ": [
                "â˜…\t342718094",
                "æµå—å¸‚\t971596577",
                "ä¸´æ²‚å¸‚\t938607948",
                "æµå®å¸‚\t535389152",
                "æ·„åšå¸‚\t972571866",
                "å¨æµ·å¸‚\t362499023",
                "æ½åŠå¸‚\t696482463",
                "æ£åº„å¸‚\t696226842",
                "æ—¥ç…§å¸‚\t973371557",
                "é’å·å¸‚\t286618511",
                "æ»¨å·å¸‚\t978465767",
                "é’å²›å¸‚\t531723696",
                "æ³°å®‰å¸‚\t514671214"
            ],
            "æµ™æ±Ÿçœ": [
                "â˜…\t139823813",
                "æ¸©å·å¸‚\t892472764",
                "å®æ³¢å¸‚\t924801818",
                "å°å·å¸‚\t398051024",
                "ç»å…´å¸‚\t693974218",
                "å˜‰å…´å¸‚\t1029869170",
                "æ¹–å·å¸‚\t1040258704"
            ],
            "å®‰å¾½çœ": [
                "åˆè‚¥å¸‚\t747589088",
                "èŠœæ¹–å¸‚\t530588300",
                "èšŒåŸ å¸‚\t948203295",
                "é“œé™µå¸‚\t102759097",
                "å®¿å·å¸‚\t891293813",
                "é©¬éå±±å¸‚\t661261951",
                "èšŒåŸ å¸‚\t948203295",
                "å®£åŸå¸‚\t172144394"
            ],
            "æ±Ÿè‹çœ": [
                "å—äº¬å¸‚â‘ ç¾¤\t819458412",
                "å—äº¬å¸‚â‘¡ç¾¤\t169906983",
                "æ— é”¡å¸‚\t974271472",
                "æ‰¬å·å¸‚\t773559461",
                "è‹å·å¸‚\t793780752",
                "å¸¸å·å¸‚\t583645455",
                "å¾å·å¸‚\t905227285",
                "å—é€šå¸‚\t836206041",
                "å—äº¬å¸‚\t747518591",
                "ç›åŸå¸‚\t145580593",
                "å®¿è¿å¸‚\t1011110279",
                "æ³°å·å¸‚\t247066554",
                "æ³°å·å¸‚å…´åŒ–å¸‚\t580171783",
                "é•‡æ±Ÿå¸‚\t1036159277",
                "é•‡æ±Ÿå¸‚æ‰¬ä¸­å¸‚\t1046222995",
                "æ·®å®‰å¸‚\t1027430916",
                "è¿äº‘æ¸¯å¸‚\t578503034"
            ],
            "ä¸Šæµ·å¸‚": [
                "ä¸Šæµ·å¸‚â‘ ç¾¤\t522612554",
                "ä¸Šæµ·å¸‚â‘¡ç¾¤\t706299490",
                "bfp\t813380802"
            ],
            "æ±Ÿè¥¿çœ": [
                "å—æ˜Œå¸‚\t894756390",
                "å‰å®‰å¸‚\t978700466",
                "èµ£å·å¸‚\t971114413",
                "å®œæ˜¥å¸‚\t1045951834",
                "ä¸Šé¥¶å¸‚\t876909073",
                "èä¹¡å¸‚\t949967318"
            ],
            "ç¦å»ºçœ": [
                "ç¦å·å¸‚\t860717840",
                "æ³‰å·å¸‚\t931808805",
                "æ³‰å·å¸‚å®‰æºªå¿\t303701504",
                "å®å¾·å¸‚\t1006373621",
                "å¦é—¨å¸‚\t761123677",
                "æ¼³å·å¸‚\t163346070"
            ],
            "å®å¤å›æ—è‡ªæ²»åŒº": [
                "â˜…\t934398762"
            ],
            "ç”˜è‚ƒçœ": [
                "å…°å·å¸‚\t769808791"
            ],
            "å†…è’™å¤è‡ªæ²»åŒº": [
                "â˜…\t538294932"
            ],
            "é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº": [
                "â˜…\t937534090",
                "â˜…\t827288405"
            ],
            "æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº": [
                "â˜…\t1025719485"
            ],
            "å°æ¹¾çœ": [
                "å·´å“ˆç¾¤\tåº”ç®¡ç†å‘˜è¦æ±‚æš‚ä¸æ”¶å½•",
                "å¤©ä¸‹ç¬¬ä¸€é‚¦\tdiscordç¾¤ç»„ï¼šdiscord.gg/bestbandreamers"
            ]
        };

        // åŠ è½½é˜¿é‡Œäº‘çš„ä¸­å›½åœ°å›¾æ•°æ®
        //fetch('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json')
        fetch('mapdata.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                // æ³¨å†Œä¸­å›½åœ°å›¾
                echarts.registerMap('china', data);

                // é…ç½®åœ°å›¾é€‰é¡¹
                const option = {
                    title: {
                        text: 'ç‚¹å‡»çœä»½æŸ¥çœ‹ç¾¤å·',
                        subtext: 'æ¬¢è¿æ”¶è—è½¬å‘åˆ†äº«æœ¬ç½‘ç«™',
                        left: 'center',
                        textStyle: {
                            fontSize: 20,
                            fontWeight: 'bold'
                        },
                        subtextStyle: {
                            fontSize: 14,
                            color: '#666'
                        }
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: function (params) {
                            return params.name;
                        },
                        backgroundColor: 'rgba(255,255,255,0.9)',
                        borderColor: '#91d5ff',
                        borderWidth: 1,
                        textStyle: {
                            color: '#333'
                        }
                    },
                    visualMap: {
                        show: false
                    },
                    series: [
                        {
                            name: 'çœä»½',
                            type: 'map',
                            map: 'china',
                            roam: true,  // å…è®¸ç¼©æ”¾å’Œå¹³ç§»
                            zoom: 1.6,
                            center: [105, 36],
                            label: {
                                show: true,
                                fontSize: 15,
                                color: '#333',
                                fontWeight: 1300,
                                formatter: function (params) {
                                    let name = params.name;
                                    // å»é™¤ç‰¹å®šåç¼€
                                    name = name
                                        .replace(/ç‰¹åˆ«è¡Œæ”¿åŒº$/, '')
                                        .replace(/å£®æ—è‡ªæ²»åŒº$/, 'çœ')
                                        .replace(/ç»´å¾å°”è‡ªæ²»åŒº$/, 'çœ')
                                        .replace(/å›æ—è‡ªæ²»åŒº$/, 'çœ')
                                    return name;
                                }
                            },
                            itemStyle: {
                                areaColor: '#fcb3c8',
                                borderColor: '#e00052',
                                borderWidth: 1.0
                            },
                            emphasis: {
                                itemStyle: {
                                    areaColor: '#e00052',
                                    shadowBlur: 20,
                                    shadowColor: 'rgba(0, 0, 0, 0.3)'
                                },
                                label: {
                                    show: true,
                                    color: '#fff',
                                    fontSize: 12,
                                    fontWeight: 35
                                }
                            }
                        }
                    ]
                };

                // è®¾ç½®é…ç½®é¡¹
                myChart.setOption(option);

                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                myChart.on('click', function (params) {
                    const provinceName = params.name;
                    const cities = provinceCities[provinceName] || ['æš‚æ— è¯¥çœæ•°æ®'];

                    // æ›´æ–°ä¿¡æ¯é¢æ¿
                    const infoPanel = document.getElementById('infoPanel');
                    infoPanel.innerHTML = `
                    <h1>ğŸ“ ${provinceName}</h1>
                    <h2><strong>ä¸‹å±åˆ—è¡¨ï¼š</strong></h2>
                     <div style="margin-top: 10px;">
                      ${cities.map(city =>
                        `<p style="
                    padding: 4px 12px; border-radius: 4px; font-size: 20px; margin: 4px 0;">
                    ${city}
                     </p>`
                    ).join('')}
                    </div>
                    `;
                });

                // æ·»åŠ åŠ è½½å®Œæˆæç¤º
                console.log('åœ°å›¾æ•°æ®åŠ è½½æˆåŠŸï¼');

            })
            .catch(error => {
                console.error('âš åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥:', error);
                document.getElementById('infoPanel').innerHTML =
                    `<p style="color: red;">âš åœ°å›¾æ•°æ®åŠ è½½å¤±è´¥ï¼š${error.message}</p>
                     <p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚</p>`;
            });

        // å¤„ç†çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', function () {
            myChart.resize();
        });
    </script>
</body>

</html>